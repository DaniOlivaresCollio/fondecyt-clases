"0","# Chequeo c√≥digos no existentes ciuo clio = 36, 55"
"0",""
"0","## Armar tabla"
"0","tabla_ciuo08_36_55 <- data %>%"
"0","  filter(as.numeric(ciuo08_clio_2d) %in% c(36, 55)) %>%"
"0","  select(ciuo08_clio,"
"0","         ciuo08_clio_2d,"
"0","         glosa_ciuo08,"
"0","         id,"
"0","         supervisa = a16, "
"0","         educ = e05, "
"0","         rama = a25, "
"0","         rama_esp = a25_esp_rec)"
"0",""
"0","## Pasar tabla a word"
"0","tabla_ft <- flextable(tabla_ciuo08_36_55)"
"0","read_docx() %>%"
"0","  body_add_flextable(value = tabla_ft) %>%"
"0","  print(target = ""output/tabla_ciuo08_36_55.docx"")"
"0",""
"0","## Revisar 36 y 55 con API del INE"
"0","## Enviar la consulta al servidor"
"0","request <-  httr::POST(""https://rapps.ine.cl:9292/predict"", "
"0","                       encode = ""json"","
"0","                       body =  list(text = tabla_ciuo08_36_55$glosa_ciuo08,"
"0","                                    classification = ""ciuo"","
"0","                                    digits = 2))"
"0",""
"0","## Extraer el contenido"
"0","ciuo08_ine_36_55 <- httr::content(request)"
"0",""
"0","## Agregar como nueva columna a la base original"
"0","tabla_ciuo08_36_55$ciuo08_ine_36_55 <- unlist(ciuo08_ine_36_55$cod_final)"
"0",""
"0","## Armar tabla filtrando a los NA con ciuo08 ine 999"
"0","tabla_ciuo08_36_55_ine <- tabla_ciuo08_36_55 %>%"
"0","  select(ciuo08_clio,"
"0","         ciuo08_clio_2d,"
"0","         ciuo08_ine_36_55,"
"0","         glosa_ciuo08, "
"0","         id,"
"0","         supervisa, "
"0","         educ, "
"0","         rama, "
"0","         rama_esp)"
"0",""
"0","## Pasar tabla a word"
"0","tabla_ft <- flextable(tabla_ciuo08_36_55_ine)"
"0","read_docx() %>%"
"0","  body_add_flextable(value = tabla_ft) %>%"
"0","  print(target = ""output/tabla_ciuo08_36_55_ine.docx"")"
